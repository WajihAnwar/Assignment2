<!DOCTYPE html>
<html>
<head>
    <title>Assignment 2</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <!-- header -->
    <header class="row">
        <div class="header-data">
            <span>Flights</span><br>
        </div>
        <div id="datetime"></div>
    </header>

    <!-- navigation bar-->
    <div class="row navigations">
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="stays.html">Stays</a></li>
                <li><a href="flights.html">Flights</a></li>
                <li><a href="cars.html">Cars</a></li>
                <li><a href="cruises.html">Cruises</a></li>
                <li><a href="contactUs.html">Contact Us</a></li>
            </ul>
        </nav>
    </div>

    <!-- side and main content-->
    <div class="row container">
        <section class="sidesection">
            <h2>Side Content</h2>
            <h4>Customization Controls :</h4>
            <div>
                <label for="fontsize">Font Size: </label>
                <input type="range" id="fontsize" min="5" max="50" value="25">
                <span id="fontsizeval">25px</span>
            </div>
            <div>
                <label for="bgColor">Background Color: </label>
                <input type="color" id="bgColor" value="#ffffff">
            </div>
        </section>

        <section class="mainsection">
            <h2>Welcome to UTD Expedia Flight Selector</h2>
            <p>Please select your flight options below</p>
            <form id="flightForm" onsubmit="validateForm(event)">
                <label for="tripType">Choose Trip Type:</label>
                <select id="tripType" name="tripType" onchange="toggleTripOptions()">
                    <option value="">Select a trip type</option>
                    <option value="oneway">One Way</option>
                    <option value="roundtrip">Round Trip</option>
                </select>

                <!-- Hide the rest of the form by default -->
                <div id="tripOptions" class="hidden">
                    <div id="oneWayOptions" class="hidden">
                        <h2>One Way Trip</h2>
                        <label for="origin">Origin:</label>
                        <select id="origin" name="origin" required>
                            <optgroup label="Texas">
                                <option value="Dallas">Dallas/Fort Worth International Airport (DFW)</option>
                                <option value="Austin">Austin-Bergstrom International Airport (AUS)</option>
                                <option value="Houston">George Bush Intercontinental Airport (IAH)</option>
                                <option value="San Antonio">San Antonio International Airport (SAT)</option>
                                <option value="El Paso">El Paso International Airport (ELP)</option>
                                <option value="Lubbock">Lubbock Preston Smith International Airport (LBB)</option>
                                <option value="Corpus Christi">Corpus Christi International Airport (CRP)</option>
                                <option value="Midland">Midland International Air & Space Port (MAF)</option>
                            </optgroup>
                            <optgroup label="California">
                                <option value="Los Angeles">Los Angeles International Airport (LAX)</option>
                                <option value="San Francisco">San Francisco International Airport (SFO)</option>
                                <option value="San Diego">San Diego International Airport (SAN)</option>
                                <option value="San Jose">San Jose International Airport (SJC)</option>
                                <option value="Sacramento">Sacramento International Airport (SMF)</option>
                                <option value="Oakland">Oakland International Airport (OAK)</option>
                                <option value="Burbank">Hollywood Burbank Airport (BUR)</option>
                                <option value="Long Beach">Long Beach Airport (LGB)</option>
                                <option value="Santa Ana">John Wayne Airport (SNA)</option>
                                <option value="Fresno">Fresno Yosemite International Airport (FAT)</option>
                                <option value="Palm Springs">Palm Springs International Airport (PSP)</option>
                            </optgroup>
                        </select>
                        <label for="departureDate">Departure Date:</label>
                        <input type="date" id="departureDate" required>
                    </div>

                    <div id="roundTripOptions" class="hidden">
                        <h2>Round Trip</h2>
                        <label for="origin">Origin:</label>
                        <select id="origin" name="origin" required>
                            <optgroup label="Texas">
                                <option value="Dallas">Dallas/Fort Worth International Airport (DFW)</option>
                                <option value="Austin">Austin-Bergstrom International Airport (AUS)</option>
                                <option value="Houston">George Bush Intercontinental Airport (IAH)</option>
                                <option value="San Antonio">San Antonio International Airport (SAT)</option>
                                <option value="El Paso">El Paso International Airport (ELP)</option>
                                <option value="Lubbock">Lubbock Preston Smith International Airport (LBB)</option>
                                <option value="Corpus Christi">Corpus Christi International Airport (CRP)</option>
                                <option value="Midland">Midland International Air & Space Port (MAF)</option>
                            </optgroup>
                            <optgroup label="California">
                                <option value="Los Angeles">Los Angeles International Airport (LAX)</option>
                                <option value="San Francisco">San Francisco International Airport (SFO)</option>
                                <option value="San Diego">San Diego International Airport (SAN)</option>
                                <option value="San Jose">San Jose International Airport (SJC)</option>
                                <option value="Sacramento">Sacramento International Airport (SMF)</option>
                                <option value="Oakland">Oakland International Airport (OAK)</option>
                                <option value="Burbank">Hollywood Burbank Airport (BUR)</option>
                                <option value="Long Beach">Long Beach Airport (LGB)</option>
                                <option value="Santa Ana">John Wayne Airport (SNA)</option>
                                <option value="Fresno">Fresno Yosemite International Airport (FAT)</option>
                                <option value="Palm Springs">Palm Springs International Airport (PSP)</option>
                            </optgroup>
                        </select>
                        
                        <!-- Destination Dropdown -->
                        <label for="destination">Destination:</label>
                        <select id="destination" name="destination" required>
                            <optgroup label="Texas">
                                <option value="Dallas">Dallas/Fort Worth International Airport (DFW)</option>
                                <option value="Austin">Austin-Bergstrom International Airport (AUS)</option>
                                <option value="Houston">George Bush Intercontinental Airport (IAH)</option>
                                <option value="San Antonio">San Antonio International Airport (SAT)</option>
                                <option value="El Paso">El Paso International Airport (ELP)</option>
                                <option value="Lubbock">Lubbock Preston Smith International Airport (LBB)</option>
                                <option value="Corpus Christi">Corpus Christi International Airport (CRP)</option>
                                <option value="Midland">Midland International Air & Space Port (MAF)</option>
                            </optgroup>
                            <optgroup label="California">
                                <option value="Los Angeles">Los Angeles International Airport (LAX)</option>
                                <option value="San Francisco">San Francisco International Airport (SFO)</option>
                                <option value="San Diego">San Diego International Airport (SAN)</option>
                                <option value="San Jose">San Jose International Airport (SJC)</option>
                                <option value="Sacramento">Sacramento International Airport (SMF)</option>
                                <option value="Oakland">Oakland International Airport (OAK)</option>
                                <option value="Burbank">Hollywood Burbank Airport (BUR)</option>
                                <option value="Long Beach">Long Beach Airport (LGB)</option>
                                <option value="Santa Ana">John Wayne Airport (SNA)</option>
                                <option value="Fresno">Fresno Yosemite International Airport (FAT)</option>
                                <option value="Palm Springs">Palm Springs International Airport (PSP)</option>
                            </optgroup>
                        </select>
                        
                        <label for="departureDateRound">Departure Date:</label>
                        <input type="date" id="departureDateRound" required>
                        <label for="arrivalDate">Arrival Date:</label>
                        <input type="date" id="arrivalDate" required>
                    </div>



                    <div id="passengerForm">
                        <h3>Passenger Information</h3>
                        <label for="adults">Adults:</label>
                        <input type="number" id="adults" min="0" max="4" value="0">
                        <label for="children">Children:</label>
                        <input type="number" id="children" min="0" max="4" value="0">
                        <label for="infants">Infants:</label>
                        <input type="number" id="infants" min="0" max="4" value="0">
                    </div>

                    <button type="submit">Search</button>
                </div>
            </form>

            <div id="output"></div>
        </section>

        <script>
            function updateDateTime() {
                const now = new Date();
                const currentDateTime = now.toLocaleString();
                document.querySelector('#datetime').textContent = currentDateTime;
            }

            function updateFontSize() {
                const fontSize = document.getElementById('fontsize').value + 'px';
                document.querySelector('.mainsection').style.fontSize = fontSize;
                document.querySelector('#fontsizeval').textContent = fontSize;
            }

            function updateBackgroundColor() {
                const bgColor = document.getElementById('bgColor').value;
                document.querySelector('body').style.backgroundColor = bgColor;
            }

            // Call the update functions on change
            document.getElementById('fontsize').addEventListener('input', updateFontSize);
            document.getElementById('bgColor').addEventListener('input', updateBackgroundColor);

            // Update the date and time every second
            setInterval(updateDateTime, 1000);

            // Initialize
            updateFontSize();
            updateBackgroundColor();

            function toggleTripOptions() {
                const tripType = document.getElementById("tripType").value;
                const tripOptions = document.getElementById("tripOptions");
                const oneWayOptions = document.getElementById("oneWayOptions");
                const roundTripOptions = document.getElementById("roundTripOptions");

                tripOptions.classList.remove("hidden");

                if (tripType === "oneway") {
                    oneWayOptions.classList.remove("hidden");
                    roundTripOptions.classList.add("hidden");
                } else if (tripType === "roundtrip") {
                    roundTripOptions.classList.remove("hidden");
                    oneWayOptions.classList.add("hidden");
                } else {
                    oneWayOptions.classList.add("hidden");
                    roundTripOptions.classList.add("hidden");
                    tripOptions.classList.add("hidden");
                }
            }


            function validateForm(event) {
                event.preventDefault(); // Prevent form submission
                const tripType = document.getElementById('tripType').value;
                const adults = parseInt(document.getElementById('adults').value);
                const children = parseInt(document.getElementById('children').value);
                const infants = parseInt(document.getElementById('infants').value);
                const totalPassengers = adults + children + infants;
                const errorMessage = document.getElementById('errorMessage');
                const departureDate = document.getElementById(tripType === 'oneway' ? 'departureDate' : 'departureDateRound').value;
                const validDate = /^2024-(09|10|11)-(0[1-9]|[12][0-9]|30|31)$/.test(departureDate);

                // Validate date and passengers
                if (!validDate) {
                    errorMessage.textContent = "Departure date must be between Sep 1, 2024, and Dec 1, 2024.";
                } else if (totalPassengers > 4) {
                    errorMessage.textContent = "Total passengers cannot exceed 4.";
                } else {
                    errorMessage.textContent = "";
                    document.getElementById('output').textContent = `Trip Type: ${tripType}, Departure Date: ${departureDate}, Passengers: Adults(${adults}), Children(${children}), Infants(${infants})`;
                }
            }

         


            
        </script>
    </div>
</body>
</html>
