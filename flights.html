<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assignment 2</title>
    <link rel="stylesheet" href="style.css">
 
</head>
<body>
    <!-- header -->
    <header class="row">
        <div class="header-data">
            <span>Flights</span><br>
        </div>
        <div id="datetime"></div>
    </header>

    <!-- navigation bar-->
    <div class="row navigations">
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="stays.html">Stays</a></li>
                <li><a href="flights.html">Flights</a></li>
                <li><a href="cars.html">Cars</a></li>
                <li><a href="cruises.html">Cruises</a></li>
                <li><a href="contactUs.html">Contact Us</a></li>
            </ul>
        </nav>
    </div>

    <!-- side and main content-->
    <div class="row container">
        <section class="sidesection">
            <h2>Side Content</h2>
            <h4>Customization Controls :</h4>
            <div>
                <label for="fontsize">Font Size: </label>
                <input type="range" id="fontsize" min="5" max="50" value="25">
                <span id="fontsizeval">25px</span>
            </div>
            <div>
                <label for="bgColor">Background Color: </label>
                <input type="color" id="bgColor" value="#ffffff">
            </div>
        </section>

        <section class="mainsection">
            <h2>Welcome to UTD Expedia Flight Selector</h2>
            <p>Please select your flight options below</p>
            <form id="flightForm" onsubmit="validateForm(event)">
                <label for="tripType">Choose Trip Type:</label>
                <select id="tripType" name="tripType" onchange="toggleTripOptions()">
                    <option value="">Select a trip type</option>
                    <option value="oneway">One Way</option>
                    <option value="roundtrip">Round Trip</option>
                </select>

                <!-- Hide the rest of the form by default -->
                <div id="tripOptions" class="hidden">
                    <div id="oneWayOptions" class="hidden">
                        <h2>One Way Trip</h2>
                        <label for="origin">Origin:</label>
                        <input list="citySuggestions" id="origin" name="origin" oninput="filterCities()"><br>
                        <datalist id="citySuggestions"></datalist>
                        <label for="destination">Destination:</label>
                        <input list="citySuggestions" id="destination" name="destination" oninput="filterCities()"><br>
                        <datalist id="citySuggestions"></datalist>
                
                        <label for="departureDate">Departure Date:</label>
                        <input type="date" id="departureDate" required>
                    </div>

                    <div id="roundTripOptions" class="hidden">
                        <h2>Round Trip</h2>
                        <label for="originRound">Origin:</label>
                        <input list="citySuggestions" id="originRound" name="originRound" oninput="filterCities()"><br>
                        <datalist id="citySuggestionsRound"></datalist>
                        <label for="destinationRound">Destination:</label>
                        <input list="citySuggestions" id="destinationRound" name="destinationRound" oninput="filterCities()"><br>
                        <datalist id="citySuggestionsRound"></datalist>
                        
                        <label for="departureDateRound">Departure Date:</label>
                        <input type="date" id="departureDateRound" required>
                        <label for="arrivalDate">Arrival Date:</label>
                        <input type="date" id="arrivalDate" required>
                    </div>

                    <label>Passenger Details:</label>
                    <span class="icon" onclick="passengerForm()">ðŸ‘¤</span><br>

                    <div id="passengerform" class="hidden">
                        <label for="adults">Adults:</label><br>
                        <input type="number" id="adults" name="adults" min="0" max="4" value="1"><br>

                        <label for="children">Children:</label><br>
                        <input type="number" id="children" name="children" min="0" max="4" value="0"><br>

                        <label for="infants">Infants:</label><br>
                        <input type="number" id="infants" name="infants" min="0" max="4" value="0"><br>

                        <span class="error" id="passengerformerr"></span><br>
                    </div>

                    <button type="submit">Submit</button>
                </div>
            </form>

            <div id="flightforminfo" class="hidden">
                <p id="tripinfo"></p>
                <p id="passengerinfo"></p>
            </div>
        </section>
    </div>

    <script>
        const validCities = [
            "Austin (Austin-Bergstrom International Airport)", 
            "Dallas (Dallas/Fort Worth International Airport)", 
            "Houston (George Bush Intercontinental Airport)", 
            "San Antonio (San Antonio International Airport)", 
            "El Paso (El Paso International Airport)", 
            "Lubbock (Lubbock Preston Smith International Airport)", 
            "Corpus Christi (Corpus Christi International Airport)", 
            "Midland (Midland International Air & Space Port)", 
            "Los Angeles (Los Angeles International Airport)", 
            "San Francisco (San Francisco International Airport)", 
            "San Diego (San Diego International Airport)", 
            "San Jose (San Jose International Airport)", 
            "Sacramento (Sacramento International Airport)", 
            "Oakland (Oakland International Airport)", 
            "Burbank (Hollywood Burbank Airport)", 
            "Long Beach (Long Beach Airport)", 
            "Santa Ana (John Wayne Airport)", 
            "Fresno (Fresno Yosemite International Airport)", 
            "Palm Springs (Palm Springs International Airport)"
        ];

        // Function to filter and display city suggestions
        function filterCities() {
            const cityInputOrigin = document.getElementById('origin').value.toLowerCase();
            const cityInputDestination = document.getElementById('destination').value.toLowerCase();
            const citySuggestionsOrigin = document.getElementById('citySuggestions'); 
            const citySuggestionsDestination = document.getElementById('citySuggestions'); 

            // Clear existing suggestions
            citySuggestionsOrigin.innerHTML = '';
            citySuggestionsDestination.innerHTML = '';

            const filteredCities = validCities.filter(city => 
                city.toLowerCase().startsWith(cityInputOrigin) || 
                city.toLowerCase().startsWith(cityInputDestination)
            );

            // Add filtered suggestions to the datalist
            filteredCities.forEach(city => {
                const option = document.createElement('option');
                option.value = city; // Set option value
                citySuggestionsOrigin.appendChild(option); // Add to datalist
                citySuggestionsDestination.appendChild(option.cloneNode(true)); // Clone for destination datalist
            });
        }

        function updateDateTime() {
            const now = new Date();
            const currentDateTime = now.toLocaleString();
            document.querySelector('#datetime').textContent = currentDateTime;
        }

        function updateFontSize() {
            const fontSize = document.getElementById('fontsize').value + 'px';
            document.querySelector('.mainsection').style.fontSize = fontSize;
            document.querySelector('#fontsizeval').textContent = fontSize;
        }

        function updateBackgroundColor() {
            const bgColor = document.getElementById('bgColor').value;
            document.querySelector('body').style.backgroundColor = bgColor;
        }

        // Call the update functions on change
        document.getElementById('fontsize').addEventListener('input', updateFontSize);
        document.getElementById('bgColor').addEventListener('input', updateBackgroundColor);
        document.getElementById('origin').addEventListener('input', filterCities);
        document.getElementById('destination').addEventListener('input', filterCities);

        // Update the date and time every second
        setInterval(updateDateTime, 1000);

        // Initialize font size and background color on page load
        updateFontSize();
        updateBackgroundColor();
        filterCities();

        function toggleTripOptions() {
            const tripType = document.getElementById("tripType").value;
            const tripOptions = document.getElementById("tripOptions");
            const oneWayOptions = document.getElementById("oneWayOptions");
            const roundTripOptions = document.getElementById("roundTripOptions");

            tripOptions.classList.remove("hidden");

            if (tripType === "oneway") {
                oneWayOptions.classList.remove("hidden");
                roundTripOptions.classList.add("hidden");
            } else if (tripType === "roundtrip") {
                roundTripOptions.classList.remove("hidden");
                oneWayOptions.classList.add("hidden");
            }
        }

        function passengerForm() {
            const passengerForm = document.getElementById("passengerform");
            passengerForm.classList.toggle("hidden");
        }

    
    </script>
</body>
</html>
